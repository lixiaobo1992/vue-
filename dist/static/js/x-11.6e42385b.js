(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["x-11"],{"0190":function(t,e,a){"use strict";var i=a("19b4"),s=a.n(i);s.a},"136d":function(t,e,a){"use strict";var i=a("2c18"),s=a.n(i);s.a},"19b4":function(t,e,a){},2446:function(t,e,a){"use strict";var i=a("cebc"),s=a("51e6"),n=a("4183"),l=0;e["a"]={data:function(){return{isLoading:!0,pullLoading:!1,finished:!1,imgIsLoading:!1,scrollCheck:!1,finishedTip:"没有更多数据了",loadingTip:"加载中...",listData:[],pullParamsDefault:{page_num:1,page_limit:20,need_pagination:1,page_serial:""},pullParams:{}}},methods:{initPullList:function(){this.pullParams.page_serial="",this.pullParams.page_num=1,this.finished=!1,this.pullLoading=!1},onRefresh:function(){this.initPullList(),window.scrollTo(0,10)},onScrollToLower:function(){var t=this;if(!this.pullLoading)if(this.finished)this.pullLoading=!1;else{this.pullLoading=!0;var e=l;l++,this.pullModel(Object(i["a"])({},this.pullParamsDefault,this.pullParams,{showLoading:!1}),function(a){t.$hideLoading(),t.isLoading=!1,t.pullLoading=!1,l-1>e||(s["a"].msf&&n["a"].stopRefresh(),"function"===typeof t.afterPull&&t.afterPull(a),t.dealData(a))},function(e){t.$hideLoading(),t.pullLoading=!1,s["a"].msf&&n["a"].stopRefresh()},this)}},pullModel:function(){},dealData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.pullParams.page_num,a=void 0===e?1:e,i=t.data,s=void 0===i?{}:i;this.pullParams.page_serial=s.page_serial||"";var n=s.list||[],l=s.total_page>a;if(1!==a||n.length||(l=!1),1===a&&(this.listData=[]),l&&(this.pullParams.page_num+=1),this.finished=!l,"function"===typeof this.dealList&&n.length){var o=this.dealList(n)||[];if(!o)return void this.$showToast("处理数据返回格式有问题");n=o.filter(function(t){return t})}this.listData=this.listData.concat(n),"function"===typeof this.afterPullData&&this.afterPullData(t)}}}},"2c18":function(t,e,a){},"2c2b":function(t,e,a){"use strict";var i=a("6f9f"),s=a.n(i);s.a},"6f9f":function(t,e,a){},8645:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.item.avatar&&null!==t.item.nickname,expression:"item.avatar !== null && item.nickname !== null"}],staticClass:"item"},[a("div",{staticClass:"left-icon",on:{click:function(e){return t.goProfile(t.item.id)}}},[a("Avatar",{staticClass:"avatar",attrs:{src:t.item.avatar,navsrc:t.vipsrc,navSatus:t.item.qualityUser,size:46,bg:""}})],1),a("div",{staticClass:"content",on:{click:function(e){return t.goProfile(t.item.id)}}},[a("div",{staticClass:"level-box"},[a("div",{staticClass:"name ellipsis"},[t._v(t._s(t.item.name))]),t._l(t.levelList,function(e,i){return a("div",{key:i,staticClass:"level-img-box"},[e.level==t.item.level?a("img",{staticClass:"level-img",attrs:{src:e.image}}):t._e()])})],2),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.item.content&&t.item.article,expression:"!item.content && item.article"}],staticClass:"follow-desc ellipsis"},[t._v("\n      "+t._s(t.item.article)+"篇觅食记 "+t._s(t.item.fans)+"位粉丝\n    ")]),a("div",{staticClass:"follow-desc ellipsis"},[t._v("\n      "+t._s(t.item.content)+"\n    ")])]),t.item.followed?a("div",{staticClass:"btn",on:{click:function(e){return t.goNext(t.item.id,t.item.index,2)}}},[t._v("已关注")]):a("div",{staticClass:"btn follow",on:{click:function(e){return t.goNext(t.item.id,t.item.index)}}},[a("i",[t._v("+")]),t._v(" 关注\n  ")])])},s=[],n=a("365c"),l=a("df3a"),o=a("11a9"),r=a("e380"),c=a("0f26"),u=a.n(c),f={name:"FollowItem",components:{Avatar:l["a"]},props:{item:Object},data:function(){return{vipsrc:u.a,levelList:[{level:1,image:"https://img.mishifeng.com/FgY5XT2DOQPbe9DikpyOHsXltMcN"},{level:2,image:"https://img.mishifeng.com/FobnFz2hIEYX93jUsZ2vZ20Yrf_T"},{level:3,image:"https://img.mishifeng.com/FjMiAxVy_1QJBJ88i32P7MI-TJUb"},{level:4,image:"https://img.mishifeng.com/FoPcuQ2ZdOXo6f_neo3XROREd9dm"},{level:5,image:"https://img.mishifeng.com/Fv4AympZ5RM4f2S-GgedxnOD845C"},{level:6,image:"https://img.mishifeng.com/Fog7ZsXSvEaLUViwe-K3MHc7CP54"},{level:7,image:"https://img.mishifeng.com/FiUTqDr4AFMCFVi7tPHFVsDDVf1p"},{level:8,image:"https://img.mishifeng.com/FpWmuysyqR_cXUT5pSjO_kikdAMt"}]}},methods:{goNext:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this;2==a?o["a"].showConfirm({title:"",message:"是否取消关注",callback:function(a){"confirm"==a&&i.follow(t,e)}}):i.follow(t,e)},follow:function(t,e){var a=this;n["a"].toggleFollow({follow_user_id:t},function(t){var i=t.data.result;i&&a.$emit("toggleFollow",i,e)},function(t){if("91610301"==t.errno)return a.$showToast(t.errmsg),!0})},goProfile:function(t){t&&(r["a"].event("c_writer_icon"),this.$forward("profile",{id:t}))}}},d=f,m=(a("2c2b"),a("2877")),v=Object(m["a"])(d,i,s,!1,null,"1b187128",null);e["a"]=v.exports},"99b5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-follow"},[a("vue-scroll",{staticClass:"page-scroll",attrs:{finished:t.finished,listLen:t.listData.length,isLoading:t.isLoading,finishedTip:"","immediate-check":t.scrollCheck},on:{onScrollToLower:t.onScrollToLower},model:{value:t.pullLoading,callback:function(e){t.pullLoading=e},expression:"pullLoading"}},[a("div",{staticClass:"follow-list"},t._l(t.listData,function(e,i){return a("FollowItem",{key:i,attrs:{item:e},on:{toggleFollow:t.toggleFollow}})}),1)])],1)},s=[],n=a("cebc"),l=a("bd86"),o=(a("7f7f"),a("8645")),r=a("2446"),c=a("4183"),u=a("51e6"),f=a("2f62"),d=a("79bb"),m=a("365c"),v={mixins:[r["a"]],components:Object(l["a"])({FollowItem:o["a"]},d["c"].name,d["c"]),data:function(){return{list:[]}},created:function(){this.refresh();var t=this;u["a"].msf&&(c["a"].enableRefresh(),c["a"].onPullRefresh({success:function(e){t.refresh()}}));var e=this.$route.query.type,a=void 0===e?1:e,i=1==a?"我的关注":"我的粉丝";this.setPageTitle(i)},beforeDestroy:function(){u["a"].msf&&(c["a"].disableRefresh(),c["a"].offPullRefresh(function(t){}))},methods:Object(n["a"])({},Object(f["b"])(["setPageTitle"]),{refresh:function(){this.initPullList();var t=this.$route.query,e=t.type,a=void 0===e?1:e,i=t.user_id;this.pullParams=Object.assign(this.pullParams,{type:a,inquiry_user_id:i}),this.onScrollToLower()},pullModel:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];m["a"].followList.apply(this,e)},dealList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(function(t,e){return Object.assign({avatar:t.avatar,followed:t.followed,name:t.nickname,article:t.article_num,fans:t.fans_num,id:t.user_id,content:t.introduction,qualityUser:t.quality_user},{index:e})})},toggleFollow:function(t,e){var a=3!=t;this.$set(this.listData[e],"followed",a)}})},h=v,p=(a("136d"),a("2877")),g=Object(p["a"])(h,i,s,!1,null,"1dd3dd33",null);e["default"]=g.exports},df3a:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"avatar-warapper"},[a("div",{staticClass:"avatar-border"},[a("div",{staticClass:"vue-avatar",class:t.classes,style:t.styles},[t._t("default")],2),a("Icon",{staticClass:"avatar-mask",attrs:{type:"avatar-mask",color:t.maskColor}}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.navSatus,expression:"navSatus"}],staticClass:"bottom-nav",class:{navvip:t.navSatus},style:t.navStyles},[a("sub",{directives:[{name:"show",rawName:"v-show",value:t.navType>0,expression:"navType > 0"}]},[t._v(t._s(t.navText.navText))])])],1)])},s=[],n=a("bd86"),l=(a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("c5f6"),a("38a5")),o=a("526c"),r=a.n(o),c=a("e9d2"),u=a.n(c),f=a("a4b8"),d=a.n(f),m={scaleToFill:"contain",aspectFill:"cover",widthFix:"100% auto",heightFix:"auto 100%"},v={name:"avatar",components:{Icon:l["a"]},props:{prefixCls:String,src:String,spin:Boolean,shadow:Boolean,size:[String,Number],bg:String,color:String,mode:{type:String,default:"aspectFill",validator:function(t){return Object.keys(m).includes(t)}},shape:{type:String,validator:function(t){return["circle","hexagon"].includes(t)}},navSatus:{type:[Boolean,Number],default:!1},navType:{type:Number,default:0},navsrc:{type:String,default:r.a},maskColor:{type:String,default:"#ffffff"}},computed:{classes:function(){var t,e=this.$props,a=e.spin,i=e.shadow,s=e.shape;return t={},Object(n["a"])(t,"is-spin",a),Object(n["a"])(t,"is-".concat(s),!!s),Object(n["a"])(t,"is-shadow",!!i),t},styles:function(){var t=this.$props,e=t.src,a=t.size,i=void 0===a?0:a,s=t.color,n=t.bg,l=t.mode;return{backgroundImage:e?"url('".concat(e,"')"):null,width:"".concat(i/100,"rem"),height:"".concat(i/100,"rem"),color:!!s,backgroundColor:n||null,backgroundSize:m[l]}},navStyles:function(){var t=this.$props.navType,e="";switch(t){case 0:e=null;break;case 1:e=r.a;break;case 2:e=d.a;break;case 3:e=u.a;break;default:break}return{backgroundImage:"url('".concat(e,"')")}},navText:function(){var t=this.$props.navType,e="";switch(t){case 0:e="";break;case 1:e="认证达人";break;case 2:e="探店达人";break;case 3:e="官方账号";break;default:break}return{navText:e}}}},h=v,p=(a("0190"),a("2877")),g=Object(p["a"])(h,i,s,!1,null,"45f7c22a",null);e["a"]=g.exports}}]);