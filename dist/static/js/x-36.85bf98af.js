(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["x-36"],{"6fe1":function(t,e,s){"use strict";var a=s("de49"),i=s.n(a);i.a},"87a5":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pages-set-up"},[s("Header",{attrs:{"left-options":{showBack:!1},title:t.headerTitle}},[s("span",{staticClass:"my-letf",attrs:{slot:"left"},on:{click:t.onClickBack},slot:"left"},[t._v("取消")]),s("span",{staticClass:"header-right",class:{disabled:t.isDisabled},attrs:{slot:"right"},on:{click:t.onClickDone},slot:"right"},[t._v("完成")])]),s("span",{staticClass:"set-title"},[t._v(t._s(t.setTitle))]),t.editUserName?s("div",{staticClass:"set-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.currText,expression:"currText"}],ref:"inputName",staticClass:"input-area input-name",attrs:{type:"text",autofocus:"autofocus",maxlength:"24",minlength:"2"},domProps:{value:t.currText},on:{input:[function(e){e.target.composing||(t.currText=e.target.value)},t.onInput]}})]):s("div",{staticClass:"set-input"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currText,expression:"currText"}],ref:"inputDesc",staticClass:"input-area input-desc",attrs:{name:"",id:"",maxlength:"100",autofocus:"autofocus"},domProps:{value:t.currText},on:{input:[function(e){e.target.composing||(t.currText=e.target.value)},t.descInput]}}),s("span",{staticClass:"textNum"},[t._v(t._s(t.inputNum))])]),t.showErrContent?s("div",{staticClass:"err-content"},[t._v(t._s(t.errContent))]):t._e()],1)},i=[],n=s("f29e"),r=s("365c"),u={name:"setup",components:{Header:n["a"]},data:function(){return{editUserName:!1,inputNum:100,currText:"",autofocus:!0,showErrContent:!1,isDisabled:!1,errContent:""}},computed:{},created:function(t){var e=this.$route.query.editUserName||!1;this.currText=this.$route.query.currText||"",this.dealPageData(e)},methods:{dealPageData:function(t){var e=this.currText.length||0;this.inputNum-=e,this.editUserName=t,this.isDisabled=this.editUserName&&e<3,this.headerTitle=t?"设置昵称":"设置个人描述",this.setTitle=t?"2-24个字符，一个自然月只能申请修改一次":"个人描述写得好，小伙伴不会少"},descInput:function(){var t=this.currText.length||0;this.inputNum=100-t},onClickBack:function(){this.$back()},onClickDone:function(){var t={};if(this.editUserName){if(this.isDisabled)return;t={nickname:this.$refs.inputName.value}}else t={introduction:this.$refs.inputDesc.value};this.getUpdateInfo(t)},onInput:function(){var t=this.$refs.inputName.value.length||0;this.isDisabled=!(t&&t>=2)},getUpdateInfo:function(t){var e=this;r["a"].updateInfo(t,function(t){var s=t.data,a=s.result;"success"==a&&(e.$showToast("修改成功！"),e.$back())},function(t){return 9140003==t.errno?e.$showToast("网络连接超时，请重试"):(e.errContent=t.errmsg,e.showErrContent=!0),!0})}}},o=u,c=(s("6fe1"),s("2877")),l=Object(c["a"])(o,a,i,!1,null,"60120fde",null);e["default"]=l.exports},de49:function(t,e,s){}}]);