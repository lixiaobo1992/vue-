(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["x-41"],{"0190":function(t,a,e){"use strict";var i=e("19b4"),s=e.n(i);s.a},"19b4":function(t,a,e){},2446:function(t,a,e){"use strict";var i=e("cebc"),s=e("51e6"),n=e("4183"),l=0;a["a"]={data:function(){return{isLoading:!0,pullLoading:!1,finished:!1,imgIsLoading:!1,scrollCheck:!1,finishedTip:"没有更多数据了",loadingTip:"加载中...",listData:[],pullParamsDefault:{page_num:1,page_limit:20,need_pagination:1,page_serial:""},pullParams:{}}},methods:{initPullList:function(){this.pullParams.page_serial="",this.pullParams.page_num=1,this.finished=!1,this.pullLoading=!1},onRefresh:function(){this.initPullList(),window.scrollTo(0,10)},onScrollToLower:function(){var t=this;if(!this.pullLoading)if(this.finished)this.pullLoading=!1;else{this.pullLoading=!0;var a=l;l++,this.pullModel(Object(i["a"])({},this.pullParamsDefault,this.pullParams,{showLoading:!1}),function(e){t.$hideLoading(),t.isLoading=!1,t.pullLoading=!1,l-1>a||(s["a"].msf&&n["a"].stopRefresh(),"function"===typeof t.afterPull&&t.afterPull(e),t.dealData(e))},function(a){t.$hideLoading(),t.pullLoading=!1,s["a"].msf&&n["a"].stopRefresh()},this)}},pullModel:function(){},dealData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.pullParams.page_num,e=void 0===a?1:a,i=t.data,s=void 0===i?{}:i;this.pullParams.page_serial=s.page_serial||"";var n=s.list||[],l=s.total_page>e;if(1!==e||n.length||(l=!1),1===e&&(this.listData=[]),l&&(this.pullParams.page_num+=1),this.finished=!l,"function"===typeof this.dealList&&n.length){var r=this.dealList(n)||[];if(!r)return void this.$showToast("处理数据返回格式有问题");n=r.filter(function(t){return t})}this.listData=this.listData.concat(n),"function"===typeof this.afterPullData&&this.afterPullData(t)}}}},"45e3":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.userStatus,expression:"userStatus"}],ref:"appProfile",staticClass:"page-theme-detail",class:{profile:!t.isMSF}},[t.isMSF?t._e():i("Header",{ref:"profileHeader",staticClass:"my-header",style:t.headerStyle,attrs:{"left-options":{showBack:!1},title:"",fixed:!0}},[i("span",{staticClass:"header-right-share",attrs:{slot:"right"},on:{click:t.onShare},slot:"right"},[i("img",{attrs:{src:e("5d67"),alt:""}})])]),i("Scroll",{staticClass:"my-scroll",attrs:{isLoading:t.isLoading,finished:t.finished,listLen:t.listData.length,finishedTip:t.finishedTip,"immediate-check":t.scrollCheck},on:{onScrollToLower:t.onScrollToLower},model:{value:t.pullLoading,callback:function(a){t.pullLoading=a},expression:"pullLoading"}},[i("div",{ref:"appHeader",staticClass:"detail-top",class:{topHeader:t.latestVersion},style:{backgroundImage:"url("+t.detailData.bg_pic+")"}},[i("div",{staticClass:"content-bg"},[i("div",{staticClass:"content"},[i("div",{staticClass:"cont-info-box"},[i("img",{staticClass:"info-img",attrs:{src:t.detailData.bg_pic}}),i("div",{staticClass:"info-text"},[i("p",{staticClass:"text-title"},[t._v("#"+t._s(t.detailData.title)+"#")]),i("p",{staticClass:"text-time"},[t._v("\n                活动时间: "+t._s(t.detailData.start_time)+"-"+t._s(t.detailData.end_time)+"\n              ")]),i("span",{staticClass:"text-status",class:{"gray-btn":2==t.detailData.status&&""==t.detailData.link},attrs:{"data-type":"prize","data-status":t.detailData.status},on:{click:t.goNext}},[t._v(t._s(t.detailData.statusText))])]),i("span",{staticClass:"rule-box",attrs:{"data-type":"rule"},on:{click:t.goNext}},[t._v("活动规则")])]),i("div",{staticClass:"cont-hint-text"},[i("div",{staticClass:"hint-text"},[t._v("\n              "+t._s(t.detailData.description)+"\n              "),i("sub",{directives:[{name:"show",rawName:"v-show",value:t.detailData.descStatus,expression:"detailData.descStatus"}],staticClass:"text-expand"},[t._v("展开")])])])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.detailData.status,expression:"detailData.status == 1"}],staticClass:"prize-box"},[i("p",{staticClass:"prize-title"},[t._v("奖项设置")]),i("p",{staticClass:"prize-hint-text"},[t._v("\n        "+t._s(t.detailData.prize)+"\n        ")])]),i("div",{staticClass:"article-box"},[i("img",{staticClass:"article-img",attrs:{src:"https://img.mishifeng.com/FlhlXbUkuLZlQp1D3G-e3e50phJm"}}),t._v("\n      话题笔记\n    ")]),i("div",{staticClass:"theme-detail-list"},[i("water-fall",{ref:"waterfall",on:{ontap:t.onArticleTap,oncomplete:t.onComplete}})],1),i("div",{staticClass:"aricle-btn",attrs:{"data-type":"publish"},on:{click:t.goNext}},[i("img",{staticClass:"aricle-img",attrs:{src:"https://img.mishifeng.com/FohRfMkB7fPUioFBKSvpyrzJw5jN",alt:""}}),i("p",{staticClass:"aricle-text"},[t._v("写笔记")])]),t.popupStatus?i("div",[i("RulePopup",{attrs:{cont:t.detailData.rule,onPopup:t.onPopup},on:{onPopup:t.onPopup}})],1):t._e()])],1)},s=[],n=(e("b54a"),e("cebc")),l=e("365c"),r=e("79bb"),o=e("38a5"),c=e("df3a"),u=e("c2a1"),p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"rule-bg-box",on:{click:t.goNext}},[e("div",{staticClass:"rule-box"},[e("p",{staticClass:"rule-title"},[t._v("规则说明")]),e("p",{staticClass:"rule-text"},[t._v("\n      "+t._s(t.cont)+"\n    ")]),e("span",{staticClass:"rule-btn",on:{click:t.goNext}},[t._v("我知道了")])])])},d=[],h={name:"rule-popup",props:{cont:{type:String}},methods:{goNext:function(){this.$emit("onPopup",!1)}}},f=h,g=(e("b332"),e("2877")),v=Object(g["a"])(f,p,d,!1,null,"2952c361",null),m=v.exports,b=e("2446"),_=e("2f62"),k=e("42a5"),w=e("51e6"),S=e("4183"),y=e("1172"),x=e("4f9d"),C={name:"theme-detail",mixins:[b["a"]],components:{Header:r["b"],Scroll:r["c"],Avatar:c["a"],WaterFall:u["a"],Icon:o["a"],RulePopup:m},data:function(){return{isMSF:w["a"].msf,tags:[],tagsBoxStyle:"",headerStyle:{backgroundColor:"rgba(255,255,255,0)"},avatar:"",navsrc:"",nickname:"",introduction:"",isSelf:!0,keepSignDays:0,signStatus:!1,todayHoney:1,timer:null,article_tab_num:{favorite_num:0,article_num:0},isNewVersion:!1,latestVersion:!1,headerTop:60,userStatus:!0,isTimeStatus:!1,detailData:{description:""},popupStatus:!1,pullParams:{page_num:1}}},computed:Object(n["a"])({},Object(_["d"])({userInfo:function(t){return t.user.userInfo},logged:function(t){return t.user.logged},showShareMask:function(t){return t.app.showShareMask},shareMaskType:function(t){return t.app.shareMaskType}})),created:function(){},mounted:function(){var t=this,a=this,e=this.$route.query.id;if(this.isMSF){var i=parseInt(a.headerTop)+parseInt(a.$refs.appHeader.offsetHeight);S["a"].onPageShow({success:function(t){a.getTopicDetail(e),a.initBridge()}}),this.$version.gt("1.4.4")?(S["a"].setNavigationBar({data:{scrollTop:i},success:function(t){}}),a.latestVersion=!1,S["a"].vueLoadFinish({success:function(t){}})):(a.$refs.appProfile.style.paddingTop=-a.appHeader+"px",a.$refs.appHeader.style.marginTop="-60px",a.latestVersion=!0)}this.$nextTick(function(){w["a"].msf||Object(k["b"])(t.$el,"scroll",function(a){var e=y["a"].getScrollTop(t.$el),i=e/150;if(i<=1.5){var s={backgroundColor:"rgba(254,219,0,".concat(i,")")};i>=1.4&&(s.boxShadow="0px 2PX 4PX rgba(0, 0, 0, ".concat(i/10,")")),t.headerStyle=s}})}),this.getTopicDetail(e),this.timeDay()},methods:Object(n["a"])({},Object(_["b"])(["setShareMask"]),{onShare:function(){this.setShareMask({isShow:!0})},getTopicDetail:function(t){var a=this;l["a"].getTopicDetail({id:t},function(t){var e=t.data,i="觅食蜂根据笔记互动值评选，选取10位优质笔记用户，获得觅食蜂达人推荐资源曝光，可以获得达人推荐（以上获奖用户的笔记均可以获得觅食蜂的首页资源推荐）可以获得达人推荐（以上获奖用户的笔记均可以获得觅食蜂的首页资源推荐";a.detailData={bg_pic:e.bg_pic,bg_pic_height:e.bg_pic_height,bg_pic_width:e.bg_pic_width,description:i,end_time:Object(x["b"])(e.end_time,"Y-M-D"),link:e.link||"",prize:e.prize||"",rule:e.rule||"",start_time:Object(x["b"])(e.start_time,"Y-M-D"),tag_id:e.tag_id,title:e.title||"",statusText:e.end_time>t.timestamp?"活动进行中…":"有奖公示",status:e.end_time>t.timestamp?1:2},a.getArticleList(e.tag_id)},function(t){})},dealString:function(t,a){t.length},afterPull:function(t){var a=t.data,e=a.list,i=void 0===e?[]:e;this.setArticleList(i)},getArticleList:function(t){var a=this;l["a"].articleList({page_num:this.pullParams.page_num},function(t){var e=t.data.list,i=void 0===e?[]:e;a.dealArticleList(i)},function(t){})},dealArticleList:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=a.map(function(t){return{id:t.id,pic:t.pic,width:t.width,height:t.height,ratio:t.height/t.width,title:t.title,level_id:t.level_id,user_avatar:t.user_avatar,user_nickname:t.user_nickname,likes_num:t.likes_num,user_id:t.user_id,quality_user:1==t.quality_user}});this.$nextTick(function(){t.$refs.waterfall&&t.$refs.waterfall.setDate(e,"reset")})},onComplete:function(t){this.listData=this.listData.concat(t)},pullModel:function(){for(var t=arguments.length,a=new Array(t),e=0;e<t;e++)a[e]=arguments[e];l["a"].articleList.apply(this,a)},afterPullData:function(){this.pullParams.page_num=this.pullParams.page_num+1},onArticleTap:function(t){var a=t.id,e=t.media_type;this.playAuth="",2==e?w["a"].msf&&(this.$version.gte("2.0.0")?this.$forward("video-list",{id:a,type:3}):this.$forward("article",{id:a})):this.$forward("article",{id:a})},setArticleList:function(t,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"push";this.$refs.waterfall.setDate(t,e,a)},goNext:function(t){var a=t.currentTarget.dataset,e=a.type,i=a.status;switch(e){case"rule":this.popupStatus=!0;break;case"prize":2!=i||this.detailData.link?this.$forward(this.detailData.link):this.$showToast("有奖公示即将发布～敬请期待!");break;case"publish":this.$forward("publish");break;default:break}},onPopup:function(t){this.popupStatus=!this.popupStatus}}),beforeDestroy:function(){if(this.isMSF){var t=this.isSelf?2:3;S["a"].removeNavigationBarMenu({ids:[t],success:function(t){},fail:function(){},complete:function(){}}),S["a"].offPageShow({})}clearInterval(this.timer),Object(k["a"])(this.$el,"scroll",function(){})}},D=C,A=(e("ebcb"),Object(g["a"])(D,i,s,!1,null,"b3d15316",null));a["default"]=A.exports},"5d67":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAMAAACf4xmcAAAAdVBMVEUAAAAjGBUjGBUjGRUjGRUnHRwkGRckGRYjGBUkGBYmGRYkGBUjGBYkGhclGRYjGRUkGBYjGBUkGRUmGRkjGRUjGBYjGBUlGxcjGRUjGRYqHBwkGRUkGBYkGRYjGBYkGBYlGRYmGBUmGxckGhoiFxUcFBEQCwqRuVFTAAAAJHRSTlMA6P7M2xpvVvyePFSgTWeRfPeFHe+7rDfDphLjx7BzaWhfQzE/DT4rAAAA6UlEQVQ4y6XP3W7CMAyG4dQFWja6pP9s4x/D/V8iQUnkVl8bgXiPcvDIjtVHVemwdo79snTj5AVG93l2+XEd/60DBq2fyrNab5NROqiNVaVnRUM8bjNQi5Njy4aRiVoWjhnmvMpG9QOlPNsT6cnfOxVYyrxCFGbFmShkuDHORCFD5erbtgMGyicMVV1VBhjcqL6YS2C40bIcGChgsDHCZFaEoUIGKsJAAQM1y4yoGPtL2akos64TFWHSJ2zLrGfYmXkR3oapNJnte1hmWyVEXWB1Q8TTEVGvQkXpHar8oKRa75Kp0vVVvdcDK7ctJ1btShsAAAAASUVORK5CYII="},"9fef":function(t,a,e){},b332:function(t,a,e){"use strict";var i=e("9fef"),s=e.n(i);s.a},df3a:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"avatar-warapper"},[e("div",{staticClass:"avatar-border"},[e("div",{staticClass:"vue-avatar",class:t.classes,style:t.styles},[t._t("default")],2),e("Icon",{staticClass:"avatar-mask",attrs:{type:"avatar-mask",color:t.maskColor}}),e("i",{directives:[{name:"show",rawName:"v-show",value:t.navSatus,expression:"navSatus"}],staticClass:"bottom-nav",class:{navvip:t.navSatus},style:t.navStyles},[e("sub",{directives:[{name:"show",rawName:"v-show",value:t.navType>0,expression:"navType > 0"}]},[t._v(t._s(t.navText.navText))])])],1)])},s=[],n=e("bd86"),l=(e("ac6a"),e("456d"),e("6762"),e("2fdb"),e("c5f6"),e("38a5")),r=e("526c"),o=e.n(r),c=e("e9d2"),u=e.n(c),p=e("a4b8"),d=e.n(p),h={scaleToFill:"contain",aspectFill:"cover",widthFix:"100% auto",heightFix:"auto 100%"},f={name:"avatar",components:{Icon:l["a"]},props:{prefixCls:String,src:String,spin:Boolean,shadow:Boolean,size:[String,Number],bg:String,color:String,mode:{type:String,default:"aspectFill",validator:function(t){return Object.keys(h).includes(t)}},shape:{type:String,validator:function(t){return["circle","hexagon"].includes(t)}},navSatus:{type:[Boolean,Number],default:!1},navType:{type:Number,default:0},navsrc:{type:String,default:o.a},maskColor:{type:String,default:"#ffffff"}},computed:{classes:function(){var t,a=this.$props,e=a.spin,i=a.shadow,s=a.shape;return t={},Object(n["a"])(t,"is-spin",e),Object(n["a"])(t,"is-".concat(s),!!s),Object(n["a"])(t,"is-shadow",!!i),t},styles:function(){var t=this.$props,a=t.src,e=t.size,i=void 0===e?0:e,s=t.color,n=t.bg,l=t.mode;return{backgroundImage:a?"url('".concat(a,"')"):null,width:"".concat(i/100,"rem"),height:"".concat(i/100,"rem"),color:!!s,backgroundColor:n||null,backgroundSize:h[l]}},navStyles:function(){var t=this.$props.navType,a="";switch(t){case 0:a=null;break;case 1:a=o.a;break;case 2:a=d.a;break;case 3:a=u.a;break;default:break}return{backgroundImage:"url('".concat(a,"')")}},navText:function(){var t=this.$props.navType,a="";switch(t){case 0:a="";break;case 1:a="认证达人";break;case 2:a="探店达人";break;case 3:a="官方账号";break;default:break}return{navText:a}}}},g=f,v=(e("0190"),e("2877")),m=Object(v["a"])(g,i,s,!1,null,"45f7c22a",null);a["a"]=m.exports},ebcb:function(t,a,e){"use strict";var i=e("ec99"),s=e.n(i);s.a},ec99:function(t,a,e){}}]);