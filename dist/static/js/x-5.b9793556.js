(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["x-5"],{"0310":function(t,a,i){"use strict";i.r(a);var e,s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"page-product is-header"},[i("vue-scroll",{staticClass:"page-scroll",attrs:{finished:t.finished,listLen:t.listData.length,isLoading:t.isLoading,finishedTip:t.finishedTip,"immediate-check":t.scrollCheck},on:{onScrollToLower:t.onScrollToLower},model:{value:t.pullLoading,callback:function(a){t.pullLoading=a},expression:"pullLoading"}},[i("div",{staticClass:"collect-list"},[i("collect-list",{attrs:{listData:t.listData}})],1),i("DefaultPage",{directives:[{name:"show",rawName:"v-show",value:!t.listData.length,expression:"!listData.length"}],attrs:{fontItem:t.fontItem,imgItem:t.imgItem}})],1)],1)},n=[],c=i("bd86"),o=(i("7f7f"),i("2446")),r=i("365c"),l=i("79bb"),u=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"product-box"},[i("div",{staticClass:"product-list"},t._l(t.productListData,function(a,e){return i("collect-item",{key:"product_"+e+a.pid,attrs:{item:a,index:e},on:{btnEvent:t.btnEvent}})}),1)])},d=[],p=(i("c5f6"),i("cebc")),f=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"collect-item-box"},[i("div",{staticClass:"collect-item",attrs:{"data-type":"shop-detail","data-id":t.item.id},on:{click:t.goNext}},[i("img",{staticClass:"product-img",attrs:{src:t.item.branch_head_pic,alt:""}}),i("div",{staticClass:"product-text-box"},[i("p",{staticClass:"product-title"},[t._v(t._s(t.item.name))]),i("div",{staticClass:"product-star"},[i("star",{staticClass:"score",attrs:{scoreMax:50,value:t.item.star}}),i("div",{staticClass:"star-title"},[t._v(t._s(t.item.article_count)+"篇觅食笔记")])],1)]),i("i",{staticClass:"right-arrow"})]),t.item.activity.length>0?i("div",{staticClass:"article-goods-box"},[i("ul",{staticClass:"goods-cont-box"},t._l(t.item.activity,function(a,e){return i("li",{key:e,staticClass:"goods-li-box",attrs:{"data-id":a.id,"data-type":"product-detail"},on:{click:t.goNext}},[i("dl",{staticClass:"goods-info-box"},[i("dt",{staticClass:"goods-img-box"},[i("img",{staticClass:"goods-img",attrs:{src:a.pic,alt:""}})]),i("dd",{staticClass:"goods-text-box"},[i("p",{staticClass:"text-title"},[t._v(t._s(a.name))]),i("p",{staticClass:"text-price"},[i("span",{staticClass:"current-price"},[t._v("￥"+t._s(a.current_price))]),i("span",{staticClass:"original-price"},[t._v("￥"+t._s(a.market_price))])])]),i("img",{staticClass:"right-arrows",attrs:{src:"https://img.mishifeng.com/FgqP_woduNe3vbTRExhImQ-_tPAA"}})])])}),0)]):t._e()])},h=[],m=i("1470"),g={name:"collect-item",props:{item:{type:Object}},components:{Star:m["a"]},data:function(){return{starVal:10}},mounted:function(){},methods:{goNext:function(t){var a=t.currentTarget.dataset,i=a.type,e=a.id;this.$forward(i,{id:e})}}},v=g,b=(i("4104"),i("2877")),_=Object(b["a"])(v,f,h,!1,null,"3a13c722",null),x=_.exports,w=i("4183"),L=i("51e6"),C=i("e380"),D={name:"collect-list",props:{listData:{type:Array,default:function(){return[]}}},components:Object(c["a"])({},x.name,x),data:function(){return{productListData:[],isMSF:L["a"].msf,tongdunFingerprintStatus:!1,blackBox:"",sessionId:""}},watch:{listData:function(t,a){this.productListData=this.dealList(t)}},created:function(){this.productListData=this.dealLis(this.listData);var t=this;this.isMSF&&w["a"].getAppConfig({success:function(a){var i=a.data;t.tongdunFingerprintStatus=i.tongdunFingerprint,t.tongdunFingerprintStatus&&w["a"].getSystemInfo({success:function(a){var i=a.data;t.blackBox=i.blackBox}})}})},methods:{dealList:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.map(function(a){return t.filterData(a)})},filterData:function(t){return Object(p["a"])({},t,{star:Number(t.star),activity:this.filterPrice(t.activity)})},filterPrice:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(function(t){return{current_price:(t.current_price/100).toFixed(2),market_price:(t.market_price/100).toFixed(2),id:t.id,name:t.item_name,pic:t.item_pic,left_stock:t.left_stock}})},goBooking:function(t){var a="index:".concat(t.index,",value:{goodId:").concat(t.pid,"}");C["a"].event("c_good",a),this.$forward("product-detail",{id:t.pid})}}},y=D,k=Object(b["a"])(y,u,d,!1,null,"279c5730",null),P=k.exports,I=i("7f10"),$=i("2294"),O=i.n($),j={name:"collect-product",mixins:[o["a"]],components:(e={},Object(c["a"])(e,l["b"].name,l["b"]),Object(c["a"])(e,l["c"].name,l["c"]),Object(c["a"])(e,P.name,P),Object(c["a"])(e,"DefaultPage",I["a"]),e),data:function(){return{imgItem:{src:O.a,width:250,height:200},fontItem:{width:240,desc:"快去收藏你想去的店吧"}}},beforeCreate:function(){},created:function(){this.$showLoading(),this.getData()},mounted:function(){},methods:{getData:function(){this.$showLoading(),this.initPullList(),this.pullParams.page_limit=5,this.onScrollToLower()},pullModel:function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];r["a"].favoriteBranchList.apply(this,a)},gotoNext:function(t){var a=t.currentTarget.dataset.type;switch(a){case"city":this.$forward(a);break;case"search-shop":this.$forward(a);break;case"search-article":this.$forward(a);break;default:}}}},S=j,T=(i("32c4"),Object(b["a"])(S,s,n,!1,null,"e97897ee",null));a["default"]=T.exports},1470:function(t,a,i){"use strict";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"star-box"},t._l(t.starData,function(a,e){return i("span",{key:e,staticClass:"star-item",class:{active:a},on:{click:function(a){return a.stopPropagation(),t.clickEvent(e)}}})}),0)},s=[],n=(i("ac6a"),i("456d"),i("c5f6"),{name:"star",props:{value:Number,scoreMax:{type:Number,default:5}},data:function(){return{type:1,cardinal:this.scoreMax/5}},created:function(){},mounted:function(){},computed:{starData:function(){for(var t=[],a=Math.ceil(5*this.value/this.scoreMax),i=1;i<=5;i++)i<=a?t.push(1):t.push(0);return t}},methods:{clickEvent:function(t){if(Object.keys(this._events).indexOf("input")>-1){var a=t+1;this.value==this.cardinal&&0==t&&(a=0),this.$emit("input",this.cardinal*a)}}}}),c=n,o=(i("4649"),i("2877")),r=Object(o["a"])(c,e,s,!1,null,"053b221c",null);a["a"]=r.exports},1493:function(t,a,i){},2446:function(t,a,i){"use strict";var e=i("cebc"),s=i("51e6"),n=i("4183"),c=0;a["a"]={data:function(){return{isLoading:!0,pullLoading:!1,finished:!1,imgIsLoading:!1,scrollCheck:!1,finishedTip:"没有更多数据了",loadingTip:"加载中...",listData:[],pullParamsDefault:{page_num:1,page_limit:20,need_pagination:1,page_serial:""},pullParams:{}}},methods:{initPullList:function(){this.pullParams.page_serial="",this.pullParams.page_num=1,this.finished=!1,this.pullLoading=!1},onRefresh:function(){this.initPullList(),window.scrollTo(0,10)},onScrollToLower:function(){var t=this;if(!this.pullLoading)if(this.finished)this.pullLoading=!1;else{this.pullLoading=!0;var a=c;c++,this.pullModel(Object(e["a"])({},this.pullParamsDefault,this.pullParams,{showLoading:!1}),function(i){t.$hideLoading(),t.isLoading=!1,t.pullLoading=!1,c-1>a||(s["a"].msf&&n["a"].stopRefresh(),"function"===typeof t.afterPull&&t.afterPull(i),t.dealData(i))},function(a){t.$hideLoading(),t.pullLoading=!1,s["a"].msf&&n["a"].stopRefresh()},this)}},pullModel:function(){},dealData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.pullParams.page_num,i=void 0===a?1:a,e=t.data,s=void 0===e?{}:e;this.pullParams.page_serial=s.page_serial||"";var n=s.list||[],c=s.total_page>i;if(1!==i||n.length||(c=!1),1===i&&(this.listData=[]),c&&(this.pullParams.page_num+=1),this.finished=!c,"function"===typeof this.dealList&&n.length){var o=this.dealList(n)||[];if(!o)return void this.$showToast("处理数据返回格式有问题");n=o.filter(function(t){return t})}this.listData=this.listData.concat(n),"function"===typeof this.afterPullData&&this.afterPullData(t)}}}},"32c4":function(t,a,i){"use strict";var e=i("3bc1"),s=i.n(e);s.a},"3bc1":function(t,a,i){},4104:function(t,a,i){"use strict";var e=i("5ab6"),s=i.n(e);s.a},4649:function(t,a,i){"use strict";var e=i("d04c"),s=i.n(e);s.a},"5ab6":function(t,a,i){},"7f10":function(t,a,i){"use strict";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"default-page"},[i("div",{staticClass:"top-img",style:t.styles}),i("span",{directives:[{name:"show",rawName:"v-show",value:t.fontItem.desc,expression:"fontItem.desc"}],staticClass:"desc",style:t.fontStyle,domProps:{innerHTML:t._s(t.fontItem.desc)}})])},s=[],n={name:"DefaultPage",props:{imgItem:Object,fontItem:Object},computed:{styles:function(){var t=this.$props.imgItem,a=t.src,i=t.width,e=t.height;return{backgroundImage:a?"url('".concat(a,"')"):null,width:"".concat(i/100,"rem"),height:"".concat(e/100,"rem")}},fontStyle:function(){var t=this.$props.fontItem,a=t.size,i=t.color,e=t.width;return{fontSize:a?"".concat(a/100,"rem"):"12px",color:i||"#ccc",width:"".concat(e/100,"rem")}}},methods:{}},c=n,o=(i("c52c"),i("2877")),r=Object(o["a"])(c,e,s,!1,null,"6e735df8",null);a["a"]=r.exports},c52c:function(t,a,i){"use strict";var e=i("1493"),s=i.n(e);s.a},d04c:function(t,a,i){}}]);