(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["x-55"],{"17f2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAClklEQVRYR82XjVFUQRCEuyNQMsAIhAzOCNQIgAiECJAI0AjACIAIIAM1AzJQIxjru5p9tffu/ey7s0q2ijrgdrd7/npmrf+8vAQ/IlaS3ks6kvQ6P7nih6Tf+fnNNn83rVkCEQHQJ0nnCfqQQAUUoEIGYhCEzBdJX23z++iaJBARHyRdS2LfZ0n3cxcmYc6xPyRd2L4fYzBKICKwAMuvbHPZ4hURnLvEG7Yvhi4YJBARt5KwYrUknkMAEUFYniTd2T7r79kikJaf/gvwAlaRuLVNLnVrg0DG/E7S8b6W9y1NEt8lfaxzoiOQycMGyqiLeUQ8k1C2CUvzigi8eGO7xuDekzRwXR39L09tH9YolfvOW0kUcEln/TNpEKFYG1kTgNEgyBISU+AA5vfXtg86Aqlwj5IOxuq8hcQceBJAtH6VPFt7IDP/0DalN7qmSLSAV1WBMD1TEYUAdfrUIjhDJJaAp8HEH41ZFQLoOpk+KpljiZn/vxlKuDFXZrlf2j4uBNDsd7bxRNOqPPFqCXh6gK76SInuQ2Bd55L+jFXPhAe2CCwNQQFH2zmL55boxLpb2j7aJQk78CIyLSXay6GtJKT1tpThFnhVWqXrzXoiIrbKcB2TGSEaBV9CInvOphBlZk5J8Sx4K4nUDAYUFHGrGZ3YftOLVzN4C4mpZgQjMrrrVHOeaZBtZsiuu+aIttFxX85AUrmPimBoQBmb5/sGb5DkDDvjI1lFgumH+X5vEqkRgD/YJp82VstYjmJdNTWI3qZqLOeBsmF52dryMCEkNCvUCysmXzpZ53iP/dyPMC1/mFThoDpgzw+dj8vIjbGnGTpPg4I49b7706zv9owncSyP07e552f1OKWMm5N39nG6S+yXnPkL6zavMO7F86kAAAAASUVORK5CYII="},"1d33":function(t,e,s){t.exports=s.p+"static/img/right-dumpling.ed35eb0b.png"},"1d9e":function(t,e,s){t.exports=s.p+"static/img/icon@2x.d2a1baf8.png"},"36f2":function(t,e,s){},3831:function(t,e,s){t.exports=s.p+"static/img/fail-support.521b02d1.png"},4068:function(t,e,s){"use strict";var a=s("97ee"),n=s.n(a);n.a},"5b79":function(t,e,s){t.exports=s.p+"static/img/share-banner-1.4532bc28.png"},"5fbf":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"progress"},[s("div",{staticClass:"progress-bar bar-left",class:{"progress-striped actice":t.animate},style:{width:(t.precent<100?t.precent:100)+"%"}}),s("span",{staticClass:"progress-text left-text",style:{width:(t.precent<100?t.precent:100)+"%"}},[t._v(t._s(t.leftValue))]),s("span",{staticClass:"progress-text right-text",style:{width:(100-t.precent<100?100-t.precent:100)+"%"}},[t._v(t._s(t.rightValue))]),s("div",{staticClass:"progress-bar bar-right",class:{"progress-striped actice":t.animate},style:{width:(100-t.precent<100?100-t.precent:100)+"%"}})])},n=[],i=(s("c5f6"),{name:"progressBar",props:{animate:{type:Boolean,default:!0},totalNum:{type:Number,default:100},value:{type:Number,required:!0}},computed:{precent:function(){return parseInt(100*this.value/this.totalNum,10)},leftValue:function(){return this.value},rightValue:function(){return this.totalNum-this.value}},methods:{}}),r=i,o=(s("fef1"),s("2877")),c=Object(o["a"])(r,a,n,!1,null,"5278831c",null);e["a"]=c.exports},"608a":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bottom-nav"},[a("div",{staticClass:"nav-con"},[a("span",{staticClass:"footer-txt"},[a("img",{staticClass:"left-img",attrs:{src:s("1d9e")}}),t._v("\n      "+t._s(t.downLoadText)+"\n    ")]),a("span",{staticClass:"bottom-btn",on:{click:t.downloadEvent}},[t._v("立即打开")])])])},n=[],i=s("51e6"),r=s("e380"),o={name:"DownloadNav",props:{downLoadText:{type:String,default:"探店套餐1折抢"}},components:{},data:function(){return{}},methods:{downloadEvent:function(){r["a"].event("c_bargain_initiate");var t=this.$route.query,e=void 0===t?{}:t;"iphone"==i["a"].system?location.href=e.ios_url||"https://itunes.apple.com/cn/app/id1435026988?mt=8":"android"==i["a"].system&&(location.href=e.android_url||"https://sj.qq.com/myapp/detail.htm?apkName=com.doweidu.mishifeng")}}},c=o,l=(s("79e5b"),s("2877")),u=Object(l["a"])(c,a,n,!1,null,"f4c32c82",null);e["a"]=u.exports},"676bc":function(t,e,s){t.exports=s.p+"static/img/refuse-support.483c21fd.png"},"79e5b":function(t,e,s){"use strict";var a=s("36f2"),n=s.n(a);n.a},8688:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"share"},[a("img",{staticClass:"share-bg",attrs:{src:s("a503")}}),a("div",{staticClass:"banner"},[a("img",{attrs:{src:s("5b79")}}),2==t.camp_type?a("img",{attrs:{src:s("ccf9")}}):t._e()]),a("div",{staticClass:"tips"},[t._m(0),t._m(1),a("ProgressBar",{directives:[{name:"show",rawName:"v-show",value:t.progressInfo.totalNum,expression:"progressInfo.totalNum"}],attrs:{value:t.progressInfo.value,totalNum:t.progressInfo.totalNum}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.camp_type,expression:"camp_type == 2"}],staticClass:"share-btn-list"},[a("div",{staticClass:"btn btn-left",on:{click:t.support}}),a("div",{staticClass:"btn btn-right",on:{click:t.reject}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.camp_type,expression:"camp_type == 1"}],staticClass:"share-btn-list"},[a("div",{staticClass:"btn btn-left-1",on:{click:t.support}}),a("div",{staticClass:"btn btn-right-1",on:{click:t.reject}})]),a("DumplingConfirm",{attrs:{settingStatus:t.setInfo.settingStatus,headerTitle:t.setInfo.headerTitle,settingText:t.setInfo.settingText,imgUrl:t.setInfo.imgUrl,headerText:t.setInfo.headerText,noticeText:t.setInfo.noticeText,btnText:t.setInfo.btnText},on:{btnEvent:t.btnForward,closeBox:t.btnClose}}),t.isMSF?t._e():a("DownloadNav",{attrs:{downLoadText:"让你一元吃大餐"}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left-tips"},[a("img",{staticClass:"img-type",attrs:{src:s("bb90")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"right-tips"},[a("img",{staticClass:"img-type",attrs:{src:s("1d33")}})])}],i=(s("c5f6"),s("cebc")),r=s("365c"),o=s("5fbf"),c=s("f501"),l=s("608a"),u=s("4360"),p=s("2f62"),f=s("51e6"),d=s("4183"),m=s("a516"),g=s("676bc"),h=s.n(g),v=s("3831"),b=s.n(v),x={name:"",components:{ProgressBar:o["a"],DumplingConfirm:c["a"],DownloadNav:l["a"]},data:function(){return{progressInfo:{totalNum:200,value:80},camp_type:1,shareCode:"",setInfo:{settingStatus:!1,headerTitle:"",headerText:"",imgUrl:"",settingText:"您已经选择过阵营啦！<br/>本次大战不支持更改阵营哦!",noticeText:"你为好友收集了5份原材料",btnText:["进入战场"]},isMSF:f["a"].msf}},created:function(){this.shareCode=this.$route.query.code||"H6F8ATN4",this.getshareInfo(),m["storage"].get("clickSts")&&!this.isMSF&&this.getSupport()},computed:Object(i["a"])({},Object(p["d"])({userInfo:function(t){return t.user.userInfo},logged:function(t){return t.user.logged}})),methods:Object(i["a"])({},Object(p["b"])(["setShareMask"]),{getshareInfo:function(){var t=this;r["a"].shareInfo({share_code:this.shareCode},function(e){var s=e.data;t.camp_type=s.share_user_camp_type,t.progressInfo.totalNum=Number(s.sweet_num)+Number(s.salty_num),t.progressInfo.value=s.salty_num},function(t){})},support:function(){m["storage"].set("clickSts",!0,300),this.$store.state.user.userInfo.id?this.getSupport():this.isMSF?d["a"].login({success:function(t){var e=t.data;u["a"].commit("SET_USERINFO",e)},fail:function(t){this.showToast("登录失败，请重试！")}}):f["a"].wechat||this.$showToast("请在微信中为好友支援！")},getSupport:function(){var t=this;r["a"].supportCamp({share_code:this.shareCode},function(e){var s=e.data,a=s.type,n=s.material_num;switch(a){case 1:t.setInfo={settingStatus:!0,imgUrl:h.a,settingText:"支援成功！",noticeText:"你为好友收集了".concat(n,"份原材料"),btnText:["进入战场继续支援"]};break;case 2:t.setInfo={settingStatus:!0,imgUrl:b.a,settingText:"支援失败！",noticeText:"你的战友在积极奋战<br>你却想着支援敌方阵营",btnText:["去支援战友"]};break;case 3:t.setInfo={settingStatus:!0,imgUrl:b.a,settingText:"支援失败！",noticeText:"您已经支援过该好友<br>不能重复支援哦！",btnText:["进入战场"]};break;default:t.setInfo.settingStatus=!1}m["storage"].remove("clickSts")},function(t){})},reject:function(){this.setInfo={imgUrl:h.a,settingStatus:!0,settingText:"快去支援你支持的阵营吧！",noticeText:"",btnText:["进入战场"]}},btnForward:function(){this.$forward("/festival/chocie",{type:4},{replace:!0})},btnClose:function(){this.setInfo.settingStatus=!1}})},C=x,T=(s("4068"),s("2877")),w=Object(T["a"])(C,a,n,!1,null,"3cfbd1fa",null);e["default"]=w.exports},"97ee":function(t,e,s){},a4fe:function(t,e,s){},a503:function(t,e,s){t.exports=s.p+"static/img/share-bg.87e76c62.png"},bb90:function(t,e,s){t.exports=s.p+"static/img/left-dumpling.e22cce18.png"},c620:function(t,e,s){},ca90:function(t,e,s){"use strict";var a=s("c620"),n=s.n(a);n.a},ccf9:function(t,e,s){t.exports=s.p+"static/img/share-banner.7c651595.png"},f501:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.settingStatus,expression:"settingStatus"}],staticClass:"bg",on:{click:t.closeBox}},[a("div",{staticClass:"setting-box"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.headerTitle,expression:"headerTitle"}],staticClass:"header-title",domProps:{innerHTML:t._s(t.headerTitle)}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.headerNotice,expression:"headerNotice"}],staticClass:"box-title",domProps:{innerHTML:t._s(t.headerNotice)}}),a("img",{directives:[{name:"show",rawName:"v-show",value:t.imgUrl,expression:"imgUrl"}],staticClass:"img-con",attrs:{src:t.imgUrl}}),a("span",{staticClass:"box-text",class:{typeTitle:3==t.setType},domProps:{innerHTML:t._s(t.settingText)}}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.noticeText,expression:"noticeText"}],staticClass:"box-notice",domProps:{innerHTML:t._s(t.noticeText)}}),a("div",{staticClass:"tab-btn"},t._l(t.btnText,function(e,s){return a("div",{key:"box"+s,staticClass:"box-btn",class:"box_btn_"+s,on:{click:function(e){return e.stopPropagation(),t.handleBox(s,t.setType)}}},[t._v("\n        "+t._s(e)+"\n      ")])}),0)]),a("img",{staticClass:"close-box",attrs:{src:s("17f2")},on:{click:function(e){return e.stopPropagation(),t.closeBox(e)}}})])},n=[],i=(s("c5f6"),{name:"invite-pop",props:{setType:{type:Number,default:1},settingStatus:{type:Boolean,default:!1},headerTitle:{type:String,default:""},headerNotice:{type:String,default:""},imgUrl:{type:String,default:""},settingText:{type:String,default:""},noticeText:{type:String,default:"需完成本页上全部信息才能领取到新手礼包哦～"},btnText:{type:Array,default:function(){return["暂时放弃","继续填写"]}}},methods:{handleBox:function(t,e){this.$emit("btnEvent",Object.assign({},{index:t},{type:e}))},closeBox:function(){this.$emit("closeBox")}}}),r=i,o=(s("ca90"),s("2877")),c=Object(o["a"])(r,a,n,!1,null,"358e831c",null);e["a"]=c.exports},fef1:function(t,e,s){"use strict";var a=s("a4fe"),n=s.n(a);n.a}}]);