(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["x-53"],{"17f2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAClklEQVRYR82XjVFUQRCEuyNQMsAIhAzOCNQIgAiECJAI0AjACIAIIAM1AzJQIxjru5p9tffu/ey7s0q2ijrgdrd7/npmrf+8vAQ/IlaS3ks6kvQ6P7nih6Tf+fnNNn83rVkCEQHQJ0nnCfqQQAUUoEIGYhCEzBdJX23z++iaJBARHyRdS2LfZ0n3cxcmYc6xPyRd2L4fYzBKICKwAMuvbHPZ4hURnLvEG7Yvhi4YJBARt5KwYrUknkMAEUFYniTd2T7r79kikJaf/gvwAlaRuLVNLnVrg0DG/E7S8b6W9y1NEt8lfaxzoiOQycMGyqiLeUQ8k1C2CUvzigi8eGO7xuDekzRwXR39L09tH9YolfvOW0kUcEln/TNpEKFYG1kTgNEgyBISU+AA5vfXtg86Aqlwj5IOxuq8hcQceBJAtH6VPFt7IDP/0DalN7qmSLSAV1WBMD1TEYUAdfrUIjhDJJaAp8HEH41ZFQLoOpk+KpljiZn/vxlKuDFXZrlf2j4uBNDsd7bxRNOqPPFqCXh6gK76SInuQ2Bd55L+jFXPhAe2CCwNQQFH2zmL55boxLpb2j7aJQk78CIyLSXay6GtJKT1tpThFnhVWqXrzXoiIrbKcB2TGSEaBV9CInvOphBlZk5J8Sx4K4nUDAYUFHGrGZ3YftOLVzN4C4mpZgQjMrrrVHOeaZBtZsiuu+aIttFxX85AUrmPimBoQBmb5/sGb5DkDDvjI1lFgumH+X5vEqkRgD/YJp82VstYjmJdNTWI3qZqLOeBsmF52dryMCEkNCvUCysmXzpZ53iP/dyPMC1/mFThoDpgzw+dj8vIjbGnGTpPg4I49b7706zv9owncSyP07e552f1OKWMm5N39nG6S+yXnPkL6zavMO7F86kAAAAASUVORK5CYII="},"1d33":function(t,e,n){t.exports=n.p+"static/img/right-dumpling.ed35eb0b.png"},"1d9e":function(t,e,n){t.exports=n.p+"static/img/icon@2x.d2a1baf8.png"},"36f2":function(t,e,n){},3743:function(t,e,n){"use strict";var s=n("e5d3"),i=n.n(s);i.a},3992:function(t,e,n){"use strict";var s=n("bfa3"),i=n.n(s);i.a},"4e5e":function(t,e,n){t.exports=n.p+"static/img/selected-camp.f8de956e.png"},"5fbf":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar bar-left",class:{"progress-striped actice":t.animate},style:{width:(t.precent<100?t.precent:100)+"%"}}),n("span",{staticClass:"progress-text left-text",style:{width:(t.precent<100?t.precent:100)+"%"}},[t._v(t._s(t.leftValue))]),n("span",{staticClass:"progress-text right-text",style:{width:(100-t.precent<100?100-t.precent:100)+"%"}},[t._v(t._s(t.rightValue))]),n("div",{staticClass:"progress-bar bar-right",class:{"progress-striped actice":t.animate},style:{width:(100-t.precent<100?100-t.precent:100)+"%"}})])},i=[],a=(n("c5f6"),{name:"progressBar",props:{animate:{type:Boolean,default:!0},totalNum:{type:Number,default:100},value:{type:Number,required:!0}},computed:{precent:function(){return parseInt(100*this.value/this.totalNum,10)},leftValue:function(){return this.value},rightValue:function(){return this.totalNum-this.value}},methods:{}}),o=a,r=(n("fef1"),n("2877")),c=Object(r["a"])(o,s,i,!1,null,"5278831c",null);e["a"]=c.exports},"608a":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottom-nav"},[s("div",{staticClass:"nav-con"},[s("span",{staticClass:"footer-txt"},[s("img",{staticClass:"left-img",attrs:{src:n("1d9e")}}),t._v("\n      "+t._s(t.downLoadText)+"\n    ")]),s("span",{staticClass:"bottom-btn",on:{click:t.downloadEvent}},[t._v("立即打开")])])])},i=[],a=n("51e6"),o=n("e380"),r={name:"DownloadNav",props:{downLoadText:{type:String,default:"探店套餐1折抢"}},components:{},data:function(){return{}},methods:{downloadEvent:function(){o["a"].event("c_bargain_initiate");var t=this.$route.query,e=void 0===t?{}:t;"iphone"==a["a"].system?location.href=e.ios_url||"https://itunes.apple.com/cn/app/id1435026988?mt=8":"android"==a["a"].system&&(location.href=e.android_url||"https://sj.qq.com/myapp/detail.htm?apkName=com.doweidu.mishifeng")}}},c=r,l=(n("79e5b"),n("2877")),u=Object(l["a"])(c,s,i,!1,null,"f4c32c82",null);e["a"]=u.exports},6720:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index",class:{h5index:!t.isMSF}},[s("div",{staticClass:"header"}),s("div",{staticClass:"header-text"},[s("span",[t._v("粽子材料:"+t._s(t.zongzhiInfo.material_num)+" ")]),s("span",{staticClass:"header-txt-right"},[t._v("已包粽子:"+t._s(t.zongzhiInfo.zongzi_num))])]),s("div",{staticClass:"btn-list"},[s("DumplingButton",{staticClass:"left-stuff",class:{more:t.moreStatus},attrs:{btnText:t.btnText,imgItem:{width:108.5,height:25,bgcolor:""},fontItem:{size:14}},on:{btnEvent:function(e){return t.getToadyMaterial(t.btnType)}}}),s("div",{staticClass:"right-btn"},[s("DumplingButton",{staticClass:"btn-item btn-rule",attrs:{btnText:"",imgItem:{width:67.5,height:27,bgcolor:""},fontItem:{size:14}},on:{btnEvent:t.goRule}}),s("DumplingButton",{staticClass:"btn-item rank-btn",attrs:{btnText:"",imgItem:{width:67.5,height:27,bgcolor:""},fontItem:{size:14}},on:{btnEvent:t.goRank}})],1)],1),s("div",{staticClass:"tips"},[t._m(0),t.popStatus?s("div",{directives:[{name:"show",rawName:"v-show",value:2==t.zongzhiInfo.camp_type,expression:"zongzhiInfo.camp_type == 2"}],staticClass:"pop left-pop"},[t._v("\n      +1\n    ")]):t._e(),t._m(1),t.popStatus?s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.zongzhiInfo.camp_type,expression:"zongzhiInfo.camp_type == 1"}],staticClass:"pop right-pop"},[t._v("\n      +1\n    ")]):t._e(),s("div",{staticClass:"vs-bg"}),s("ProgressBar",{directives:[{name:"show",rawName:"v-show",value:t.progressInfo.totalNum>1,expression:"progressInfo.totalNum > 1"}],attrs:{value:t.progressInfo.value,totalNum:t.progressInfo.totalNum}})],1),s("div",{class:["make-tips",t.activeClass]}),s("div",{staticClass:"btn-make",on:{click:t.makeDumpling}},[s("img",{staticClass:"hand",attrs:{src:n("7b5d")}})]),s("div",{staticClass:"btn-box"}),s("DumplingConfirm",{attrs:{setType:t.setInfo.setType,settingStatus:t.setInfo.settingStatus,headerTitle:t.setInfo.headerTitle,settingText:t.setInfo.settingText,headerText:t.setInfo.headerText,imgUrl:t.setInfo.imgUrl,noticeText:t.setInfo.noticeText,btnText:t.setInfo.btnText},on:{btnEvent:t.btnForward,closeBox:t.btnClose}}),t.isMSF?t._e():s("DownloadNav",{attrs:{downLoadText:"让你一元吃大餐"}})],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left-tips"},[s("img",{staticClass:"img-type",attrs:{src:n("bb90")}}),s("span",{staticClass:"type text-type"},[t._v("咸粽")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"right-tips"},[s("img",{staticClass:"img-type",attrs:{src:n("1d33")}}),s("span",{staticClass:"type text-type"},[t._v("甜粽")])])}],a=(n("c5f6"),n("a481"),n("cebc")),o=n("365c"),r=n("5fbf"),c=n("6db7"),l=n("9cc1"),u=n("f501"),p=n("4183"),f=n("51e6"),m=n("2f62"),g=n("608a"),d=n("daf3"),h=n("4e5e"),v=n.n(h),b=n("efda"),x=n.n(b),_=n("861d"),y=n.n(_),I={name:"ranking-list",components:{RankingList:c["a"],ProgressBar:r["a"],DumplingButton:l["a"],DumplingConfirm:u["a"],DownloadNav:g["a"],ShareShade:d["a"]},data:function(){return{rankingList:[{avatar:"~assets/img/honey_icon.png",id:1,nickname:"用户名1",content:"已贡献300个甜粽子"},{avatar:"~assets/img/honey_icon.png",id:2,nickname:"用户名21111",content:"已贡献300个甜粽子"}],btnText:"",moreStatus:!1,btnType:1,progressInfo:{totalNum:200,value:80},zongzhiInfo:{wait_num:0,material_num:0,zongzi_num:0,camp_type:1},shareInfo:{share_code:"",share_pic:""},setInfo:{setType:1,settingStatus:!1,headerTitle:"",headerText:"",settingText:"",noticeText:"发布笔记所得的粽子原材料会在24小时内到账。",btnText:["进入战场"]},downurl:"",isMSF:f["a"].msf,popStatus:!1,activeClass:"",initIndex:0,showStatus:!0,isNewVersion:!1,iphone:f["a"].iphone}},computed:Object(a["a"])({},Object(m["d"])({userInfo:function(t){return t.user.userInfo},logged:function(t){return t.user.logged}})),created:function(){if(this.isMSF){var t=this;p["a"].getUserInfo({success:function(e){e.data.id||e.data.token?t.getInitData():location.replace("/festival/chocie?type=4")}})}else this.$store.state.user.userInfo.id?(this.getInitData(),this.generateUrl()):this.$forward("/festival/chocie",{type:4},{replace:!0});(this.iphone&&this.$version.gt("1.6.4")||this.$version.gt("1.6.2"))&&(this.isNewVersion=!0)},mounted:function(){setInterval(function(){},5)},methods:Object(a["a"])({},Object(m["b"])(["setShareMask"]),{getInitData:function(){var t=this;o["a"].dumplingDetail({},function(e){var n=e.data;if(1==n.type?(t.zongzhiInfo={wait_num:n.wait_num||0,material_num:n.material_num||0,zongzi_num:n.zongzi_num||0,camp_type:n.camp_type},t.progressInfo={totalNum:Number(n.sweet_num)+Number(n.salty_num)||100,value:n.salty_num||0},t.shareInfo={share_code:n.share_code||"",share_pic:n.share_pic||""},0===t.zongzhiInfo.wait_num&&(t.moreStatus=!0,t.btnType=2)):t.isMSF?location.replace("/festival/chocie?type=4"):t.$forward("/festival/chocie",{type:4},{replace:!0}),f["a"].wechat&&!t.isMSF){var s="消灭咸粽恶势力！甜粽战友速来支援，咸粽党不服来战！",i="甜咸粽子大战已经打响，快来！！！",a="".concat(window.location.origin,"/festival/share?code=").concat(t.shareInfo.shareCode);p["a"].setShare({title:s,weixin_timeline:{title:s,desc:i},imgUrl:y.a,desc:i,url:a,link:a})}},function(e){9330004==e.errno&&(t.isMSF?location.replace("/festival/chocie?type=4"):t.$forward("/festival/chocie",{type:4},{replace:!0}))})},getToadyMaterial:function(t){var e=this;switch(t){case 1:o["a"].getToadyMaterial({},function(t){e.zongzhiInfo.material_num=e.zongzhiInfo.material_num+5,e.moreStatus=!0,e.btnType=2,e.setInfo={setType:3,settingStatus:!0,imgUrl:x.a,settingText:"已成功领取今日份粽子原材料",noticeText:"",btnText:["去包粽子"]}},function(t){});break;case 2:this.isMSF||f["a"].wechat?this.setInfo={headerTitle:"获取更多粽子材料",settingStatus:!0,settingText:"可以通过以下方法获得材料：<br/><p>1. 发布带有 #甜咸粽子大战# 标签的有效笔记可以获得10份粽子原材料，笔记被精选还可以获得额外40份粽子原材料哦～<br/>2. 分享给好友，让他们来支援你</p>",noticeText:"发布笔记所得的粽子原材料会在24小时内到账。",btnText:["请求好友支援","去写美食笔记"]}:this.setInfo={setType:2,headerTitle:"获取更多粽子材料",settingStatus:!0,settingText:"可以通过以下方法获得材料：<br/><p>1. 发布带有 #甜咸粽子大战# 标签的有效笔记可以获得10份粽子原材料，笔记被精选还可以获得额外40份粽子原材料哦～<br/>2. 分享给好友，让他们来支援你</p>",noticeText:"发布笔记所得的粽子原材料会在24小时内到账。",btnText:["前往觅食蜂app获取"]};break}},makeDumpling:function(){var t=this;o["a"].makezongzi({},function(e){t.activeClass="",setTimeout(function(){t.activeClass=1==t.zongzhiInfo.camp_type?"active-tian":"active-xian"},10),t.popStatus=!0,t.zongzhiInfo={material_num:t.zongzhiInfo.material_num-1,zongzi_num:t.zongzhiInfo.zongzi_num+1},t.progressInfo.totalNum=t.progressInfo.totalNum+1,2==t.zongzhiInfo.camp_type&&(t.progressInfo.value=t.progressInfo.value+1),t.getInitData(),setTimeout(function(){t.popStatus=!1},2e3)},function(e){91330005==e.errno&&(t.isMSF||f["a"].wechat?t.setInfo={headerTitle:"啊哦…材料不够了",settingStatus:!0,settingText:"可以通过以下方法获得材料：<br/><p>1. 发布带有 #甜咸粽子大战# 标签的有效笔记可以获得10份粽子原材料，笔记被精选还可以获得额外40份粽子原材料哦～<br/>2. 分享给好友，让他们来支援你</p>",noticeText:"发布笔记所得的粽子原材料会在24小时内到账。",btnText:["请求好友支援","去写美食笔记"]}:t.setInfo={setType:2,headerTitle:"啊哦…材料不够了",settingStatus:!0,settingText:"可以通过以下方法获得材料：<br/><p>1. 发布带有 #甜咸粽子大战# 标签的有效笔记可以获得10份粽子原材料，笔记被精选还可以获得额外40份粽子原材料哦～<br/>2. 分享给好友，让他们来支援你</p>",noticeText:"发布笔记所得的粽子原材料会在24小时内到账。",btnText:["前往觅食蜂app获取"]})})},goRank:function(){this.$forward("/festival/rank",{type:this.zongzhiInfo.camp_type})},goRule:function(){this.$forward("/festival/chocie",{type:3})},btnForward:function(t){0===t.index&&1===t.type&&(this.setInfo.settingStatus=!1,!this.isMSF&&this.setShareMask({isShow:!0,type:1}),this.shareAppBottom()),1===t.index&&1===t.type&&(this.isMSF?this.$forward("/index"):this.setInfo={setType:2,settingStatus:!0,imgUrl:v.a,settingText:"发笔记收集材料的方式,只开放给app端用户哦！",noticeText:"",btnText:["前往觅食蜂app"]}),0===t.index&&2===t.type&&(this.$forward("/download"),this.setInfo.settingStatus=!1),0===t.index&&3===t.type&&(this.setInfo.settingStatus=!1)},btnClose:function(){this.setInfo.settingStatus=!1},closeMask:function(){this.showStatus=!1},shareAppBottom:function(){var t="".concat(window.location.origin,"/festival/share?code=").concat(this.shareInfo.share_code);!f["a"].wechat&&this.isNewVersion&&this.$showToast("需要更新到最新版本才能使用分享图功能！");var e=1==this.zongzhiInfo.camp_type?"甜粽":"咸粽",n=1==this.zongzhiInfo.camp_type?"咸粽":"甜粽",s=" 我是坚定的".concat(e,"党，快来支援我消灭").concat(n,"恶势力！"),i="甜咸粽子大战已打响，够胆你就来！";if(f["a"].msf){var a=["weixin","weixin_timeline","image"];p["a"].showShare({type:0,title:s,weixin_timeline:{title:"咸粽VS甜粽！你会pick谁？获胜阵营0元吃霸王餐！"},desc:i,link:t,imgUrl:this.shareInfo.share_pic,url:t,onlySelectChannel:a,success:function(t){}})}else p["a"].setShare({title:s,weixin_timeline:{title:s,desc:i},imgUrl:y.a,desc:i,url:t,link:t})}})},w=I,T=(n("71e9"),n("2877")),C=Object(T["a"])(w,s,i,!1,null,"15df5e1f",null);e["default"]=C.exports},"6db7":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rankingList"},t._l(t.rankingData,function(t,e){return n("RankingItem",{key:"rank"+e,attrs:{item:t,index:e}})}),1)},i=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ranking"},[s("div",{staticClass:"avator",on:{click:function(e){return t.goProfile(t.item.user_id)}}},[s("span",{staticClass:"rank-index"},[t._v(t._s(t.index+1))]),s("img",{staticClass:"user-img",attrs:{src:t.item.avatar}}),s("span",{staticClass:"nickname"},[t._v(t._s(t.item.nickname))])]),s("span",{staticClass:"ranking-con"},[t._v("已贡献\n    "),s("p",{staticClass:"num"},[t._v(t._s(t.item.zongzi_num))]),s("img",{staticClass:"user-left",attrs:{src:n("c189")}})])])},o=[],r=(n("c5f6"),{name:"ranking-item",props:{item:Object,index:Number},methods:{goProfile:function(t){t&&this.$forward("profile",{id:t})}}}),c=r,l=(n("3743"),n("2877")),u=Object(l["a"])(c,a,o,!1,null,"b3e217b2",null),p=u.exports,f={name:"ranking-item",components:{RankingItem:p},props:{rankingData:{type:Array,default:function(){return[]}}},methods:{}},m=f,g=(n("ce28"),Object(l["a"])(m,s,i,!1,null,"41410b2e",null));e["a"]=g.exports},"71e9":function(t,e,n){"use strict";var s=n("ef43"),i=n.n(s);i.a},"79e5b":function(t,e,n){"use strict";var s=n("36f2"),i=n.n(s);i.a},"7b5d":function(t,e,n){t.exports=n.p+"static/img/img-hand.2e02659e.png"},"7cd8":function(t,e,n){},"861d":function(t,e,n){t.exports=n.p+"static/img/shareImg.65f7394e.png"},"9cc1":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ranking-button",style:t.styles,on:{click:function(e){return e.stopPropagation(),t.btnClick(e)}}},[n("span",{style:t.fontStyle},[t._v(t._s(t.btnText))])])},i=[],a={name:"dumpling-button",props:{imgItem:Object,fontItem:Object,btnText:{type:String,default:"确定"}},computed:{styles:function(){var t=this.$props.imgItem,e=t.width,n=t.height,s=t.bgcolor;return{width:"".concat(e/100,"rem"),height:"".concat(n/100,"rem"),lineHeight:"".concat(n/100,"rem"),backgroundColor:s?"".concat(s):""}},fontStyle:function(){var t=this.$props.fontItem,e=t.size,n=t.color,s=t.width;return{fontSize:e?"".concat(e/100,"rem"):"12px",color:n||"#fff",width:"".concat(s/100,"rem")}}},methods:{btnClick:function(){this.$emit("btnEvent")}}},o=a,r=(n("3992"),n("2877")),c=Object(r["a"])(o,s,i,!1,null,"97e24bd8",null);e["a"]=c.exports},a4fe:function(t,e,n){},bb90:function(t,e,n){t.exports=n.p+"static/img/left-dumpling.e22cce18.png"},bfa3:function(t,e,n){},c189:function(t,e,n){t.exports=n.p+"static/img/rank-zongzi.389a0eae.png"},c620:function(t,e,n){},ca90:function(t,e,n){"use strict";var s=n("c620"),i=n.n(s);i.a},ce28:function(t,e,n){"use strict";var s=n("7cd8"),i=n.n(s);i.a},e5d3:function(t,e,n){},ef43:function(t,e,n){},efda:function(t,e,n){t.exports=n.p+"static/img/getMaterial.383aa935.png"},f501:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.settingStatus,expression:"settingStatus"}],staticClass:"bg",on:{click:t.closeBox}},[s("div",{staticClass:"setting-box"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.headerTitle,expression:"headerTitle"}],staticClass:"header-title",domProps:{innerHTML:t._s(t.headerTitle)}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.headerNotice,expression:"headerNotice"}],staticClass:"box-title",domProps:{innerHTML:t._s(t.headerNotice)}}),s("img",{directives:[{name:"show",rawName:"v-show",value:t.imgUrl,expression:"imgUrl"}],staticClass:"img-con",attrs:{src:t.imgUrl}}),s("span",{staticClass:"box-text",class:{typeTitle:3==t.setType},domProps:{innerHTML:t._s(t.settingText)}}),s("i",{directives:[{name:"show",rawName:"v-show",value:t.noticeText,expression:"noticeText"}],staticClass:"box-notice",domProps:{innerHTML:t._s(t.noticeText)}}),s("div",{staticClass:"tab-btn"},t._l(t.btnText,function(e,n){return s("div",{key:"box"+n,staticClass:"box-btn",class:"box_btn_"+n,on:{click:function(e){return e.stopPropagation(),t.handleBox(n,t.setType)}}},[t._v("\n        "+t._s(e)+"\n      ")])}),0)]),s("img",{staticClass:"close-box",attrs:{src:n("17f2")},on:{click:function(e){return e.stopPropagation(),t.closeBox(e)}}})])},i=[],a=(n("c5f6"),{name:"invite-pop",props:{setType:{type:Number,default:1},settingStatus:{type:Boolean,default:!1},headerTitle:{type:String,default:""},headerNotice:{type:String,default:""},imgUrl:{type:String,default:""},settingText:{type:String,default:""},noticeText:{type:String,default:"需完成本页上全部信息才能领取到新手礼包哦～"},btnText:{type:Array,default:function(){return["暂时放弃","继续填写"]}}},methods:{handleBox:function(t,e){this.$emit("btnEvent",Object.assign({},{index:t},{type:e}))},closeBox:function(){this.$emit("closeBox")}}}),o=a,r=(n("ca90"),n("2877")),c=Object(r["a"])(o,s,i,!1,null,"358e831c",null);e["a"]=c.exports},fef1:function(t,e,n){"use strict";var s=n("a4fe"),i=n.n(s);i.a}}]);